# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0

name                xdg-user-dirs
version             0.18
categories          sysutils
platforms           any
maintainers         {christophecvr @christophecvr}
license             Free

#compiler.blacklist clang

description         xdg-user-dirs is a tool to help manage user directories like the desktop folder and the music folder.



long_description    xdg-user-dirs is a tool to help manage "well known" user directories like the desktop folder and the music folder.\
                    It also handles localization (i.e. translation) of the filenames.\
                    The way it works is that xdg-user-dirs-update is run very early in the login phase. \
                    This program reads a configuration file, and a set of default directories. \
                    It then creates localized versions of these directories in the users home directory and \
                    sets up a config file in (XDG_CONFIG_HOME)/user-dirs.dirs (XDG_CONFIG_HOME defaults to ~/.config) \
                    that applications can read to find these directories.

homepage            https://freedesktop.org/wiki/Software/xdg-user-dirs
master_sites        http://user-dirs.freedesktop.org/releases/

checksums           rmd160  e360a03398def124a336bb176e0776115ef5818d \
                    sha256  ec6f06d7495cdba37a732039f9b5e1578bcb296576fde0da40edb2f52220df3c

# on macos de Videos path is Video's, and we have a extra path Movies

patchfiles macos-userdirs-defaults.patch
                  
depends_build       port:xdg-utils

# The auto config tools on macos do fail while finding
# the libiconv and libintl. Somehow it will use the $prefix/include
# but /usr/lib (instead of $prefix/lib.) by adding the linking at start.
# It well will use $prefix/lib and all ok.

configure.args  LIBS="-liconv -lintl"

livecheck.type      regex
livecheck.url       [lindex ${master_sites} 0]
livecheck.regex     "${name}-(\\d+(?:\\.\\d+)*)"

