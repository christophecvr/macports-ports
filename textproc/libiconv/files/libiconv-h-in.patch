--- lib/iconv.c.orig	2022-01-23 23:36:33.000000000 +0100
+++ lib/iconv.c	2024-11-29 17:42:43.000000000 +0100
@@ -19,6 +19,9 @@
 
 #include <iconv.h>
 
+#define _iconv  iconv
+#define _libiconv iconv
+
 #include <limits.h>
 #include <stdlib.h>
 #include <string.h>
@@ -503,6 +506,9 @@
 #endif
 };
 
+#define _iconv_canonicalize iconv_canonicalize
+#define _libiconv_canonicalize iconv_canonicalize
+
 const char * iconv_canonicalize (const char * name)
 {
   const char* code;
@@ -610,6 +616,8 @@
   return name;
 }
 
+#define _libiconv_canonicalize iconv_canonicalize
+
 int _libiconv_version = _LIBICONV_VERSION;
 
 #if defined __FreeBSD__ && !defined __gnu_freebsd__
@@ -621,6 +629,9 @@
 #undef iconv_open
 #undef iconv
 #undef iconv_close
+strong_alias (iconv_open, iconv_open)
+strong_alias (iconv, iconv)
+strong_alias (iconv_close, iconv_close)
 strong_alias (libiconv_open, iconv_open)
 strong_alias (libiconv, iconv)
 strong_alias (libiconv_close, iconv_close)
--- include/iconv.h.build.in.orig	2022-05-15 14:59:00.000000000 +0200
+++ include/iconv.h.build.in	2024-11-29 17:39:35.000000000 +0100
@@ -227,8 +227,10 @@
 
 /* Canonicalize an encoding name.
    The result is either a canonical encoding name, or name itself. */
+//#define _libiconv_canonicalize libiconv_canonicalize
+//#define _iconv_canonicalize libiconv_canonicalize
 extern LIBICONV_DLL_EXPORTED const char * iconv_canonicalize (const char * name);
-
+extern LIBICONV_DLL_EXPORTED const char * libiconv_canonicalize (const char * name);
 /* Support for relocatable packages.  */
 
 /* Sets the original and the current installation prefix of the package.
