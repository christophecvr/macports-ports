# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           active_variants 1.1

version             3.0.99
revision            0
name                gtk-mac-integration
conflicts           gtk-osx-application

categories          devel
platforms           darwin
license             LGPL-2.1
maintainers         {christophecvr @christophecvr} openmaintainer

description         Mac OS X menu bar integration library for GTK2 quartz
long_description \
                    A simple library whose purpose is to \
                    allow GTK quartz applications to integrate with \
                    the Mac OS X menu bar. Requires gtk2 or gtk3 and its \
                    dependencies to be built with variant +quartz

homepage            https://wiki.gnome.org/Projects/GTK%2B/OSX/Integration
fetch.type          git
git.url             https://gitlab.gnome.org/christophecvr/${name}.git
git.branch          origin/master

checksums           sha256  f19e35bc4534963127bbe629b9b3ccb9677ef012fc7f8e97fd5e890873ceb22d \
                    rmd160  50b403a4fa0216f87fc462b775dacd4a366935df \
                    size    349228

#patchfiles          get-private-add-private.patch
#patchfiles-append          gtkosx-imagec.patch

#configure.cflags-append "-DMAC_OS_X_VERSION_MIN_REQUIRED=100900"

depends_lib-append \
                    path:lib/pkgconfig/gtk+-3.0.pc:gtk3 \
                    
configure.args-append \
                    --with-gtk3 \
                    --without-gtk2


configure.cmd   ./autogen.sh

configure.ccache    no

configure.cmd-append \
                    --with-pkgconfigdir=${prefix}/lib/pkgconfig
                   
livecheck.type      gnome
livecheck.name      ${name}
